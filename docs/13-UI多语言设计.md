# UI 多语言支持设计文档

## 概述

本文档描述 SillyChat 的 UI 多语言支持设计，实现应用界面的国际化（i18n），让用户可以选择母语操作界面。

---

## 1. 多语言架构

### 1.1 整体架构

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                            UI 多语言架构                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                         应用层 (App Layer)                           │   │
│  │                                                                      │   │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌────────────┐  │   │
│  │  │   React    │  │  SwiftUI   │  │  Jetpack   │  │   Electron │  │   │
│  │  │  (Web)     │  │  (iOS/mac) │  │  Compose   │  │  (Windows) │  │   │
│  │  │            │  │            │  │  (Android) │  │            │  │   │
│  │  └──────┬─────┘  └──────┬─────┘  └──────┬─────┘  └──────┬─────┘  │   │
│  │         │               │               │               │         │   │
│  │         └───────────────┴───────────────┴───────────────┘         │   │
│  │                              │                                      │   │
│  │                    ┌─────────┴─────────┐                           │   │
│  │                    ▼                   ▼                           │   │
│  │         ┌─────────────────┐   ┌─────────────────┐                 │   │
│  │         │  i18n SDK       │   │  本地化资源      │                 │   │
│  │         │  (统一封装)      │   │  (JSON/YAML)    │                 │   │
│  │         └────────┬────────┘   └─────────────────┘                 │   │
│  │                  │                                                 │   │
│  └──────────────────┼─────────────────────────────────────────────────┘   │
│                     │                                                      │
│                     ▼                                                      │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                         资源管理层                                   │   │
│  │                                                                      │   │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌────────────┐  │   │
│  │  │  语言包加载  │  │  动态导入    │  │   fallback  │  │  热更新     │  │   │
│  │  │             │  │             │  │  机制       │  │            │  │   │
│  │  └─────────────┘  └─────────────┘  └─────────────┘  └────────────┘  │   │
│  │                                                                      │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 1.2 支持语言列表

| 语言代码 | 语言名称 | 覆盖率目标 | 优先级 |
|---------|---------|-----------|--------|
| zh-CN | 简体中文 | 100% | P0 |
| zh-TW | 繁体中文 | 100% | P0 |
| en-US | 英语（美国） | 100% | P0 |
| ja-JP | 日语 | 100% | P1 |
| ko-KR | 韩语 | 100% | P1 |
| es-ES | 西班牙语 | 90% | P2 |
| fr-FR | 法语 | 90% | P2 |
| de-DE | 德语 | 90% | P2 |
| ru-RU | 俄语 | 80% | P3 |
| pt-BR | 葡萄牙语（巴西） | 80% | P3 |
| ar-SA | 阿拉伯语 | 80% | P3 |
| hi-IN | 印地语 | 70% | P3 |

### 1.3 语言包结构

```yaml
# 语言包文件结构
locales/
├── zh-CN/
│   ├── common.json           # 通用翻译
│   ├── chat.json             # 聊天界面
│   ├── settings.json         # 设置界面
│   ├── skills.json           # Skills 相关
│   ├── errors.json           # 错误信息
│   └── onboarding.json       # 引导流程
├── zh-TW/
│   └── ...
├── en-US/
│   └── ...
├── ja-JP/
│   └── ...
└── _meta/
    └── language-info.json    # 语言元数据
```

---

## 2. 翻译系统设计

### 2.1 核心接口

```typescript
// ============================================
// 国际化核心接口
// ============================================

interface I18nConfig {
  // 默认语言
  defaultLocale: string;

  // 支持的语言列表
  supportedLocales: string[];

  // 资源加载路径
  resourcePath: string;

  // 是否启用语言检测
  detectLocale: boolean;

  // 缓存策略
  cache: {
    enabled: boolean;
    maxAge: number;           // 缓存时间（毫秒）
  };

  // 插值配置
  interpolation: {
    prefix: string;           // 默认 "{{"
    suffix: string;           // 默认 "}}"
    escapeValue: boolean;     // 是否转义HTML
  };
}

interface I18nInstance {
  // 当前语言
  readonly currentLocale: string;

  // 翻译函数
  t(key: string, options?: TranslateOptions): string;

  // 批量翻译
  tBatch(keys: string[]): Record<string, string>;

  // 切换语言
  changeLocale(locale: string): Promise<void>;

  // 加载语言包
  loadLocale(locale: string): Promise<void>;

  // 监听语言变化
  onLocaleChange(callback: (locale: string) => void): () => void;

  // 获取所有支持的语言
  getSupportedLocales(): LanguageInfo[];

  // 检测系统语言
  detectSystemLocale(): string;

  // 格式化数字
  formatNumber(value: number, options?: NumberFormatOptions): string;

  // 格式化日期
  formatDate(date: Date | number, options?: DateFormatOptions): string;

  // 格式化相对时间
  formatRelativeTime(date: Date | number, options?: RelativeTimeOptions): string;

  // 格式化列表
  formatList(items: string[], options?: ListFormatOptions): string;
}

interface TranslateOptions {
  // 默认值
  defaultValue?: string;

  // 插值变量
  [key: string]: any;

  // 复数形式
  count?: number;

  // 上下文
  context?: string;
}

interface LanguageInfo {
  code: string;
  name: string;
  nativeName: string;
  flag: string;
  rtl: boolean;               // 是否从右到左
  completion: number;         // 翻译完成度
}
```

### 2.2 翻译函数实现

```typescript
// ============================================
// 核心实现
// ============================================

class I18nCore implements I18nInstance {
  private currentLocale: string;
  private resources: Map<string, any> = new Map();
  private listeners: Set<(locale: string) => void> = new Set();
  private config: I18nConfig;

  constructor(config: I18nConfig) {
    this.config = config;
    this.currentLocale = config.defaultLocale;

    // 检测系统语言
    if (config.detectLocale) {
      const detected = this.detectSystemLocale();
      if (config.supportedLocales.includes(detected)) {
        this.currentLocale = detected;
      }
    }
  }

  // 翻译函数
  t(key: string, options: TranslateOptions = {}): string {
    const resource = this.getResource(key);

    if (!resource) {
      // 回退到默认语言
      if (this.currentLocale !== this.config.defaultLocale) {
        const fallback = this.getResourceFromLocale(key, this.config.defaultLocale);
        if (fallback) {
          return this.interpolate(fallback, options);
        }
      }
      return options.defaultValue || key;
    }

    // 处理复数形式
    if (options.count !== undefined) {
      const pluralForm = this.getPluralForm(options.count, this.currentLocale);
      const pluralKey = `${key}_${pluralForm}`;
      const pluralResource = this.getResource(pluralKey);
      if (pluralResource) {
        return this.interpolate(pluralResource, { ...options, count: options.count });
      }
    }

    return this.interpolate(resource, options);
  }

  // 插值处理
  private interpolate(text: string, vars: Record<string, any>): string {
    const { prefix, suffix, escapeValue } = this.config.interpolation;

    return text.replace(
      new RegExp(`${prefix}(.+?)${suffix}`, 'g'),
      (match, key) => {
        const value = vars[key.trim()];

        if (value === undefined) {
          console.warn(`Missing interpolation variable: ${key}`);
          return match;
        }

        if (escapeValue && typeof value === 'string') {
          return this.escapeHtml(value);
        }

        return String(value);
      }
    );
  }

  // HTML转义
  private escapeHtml(text: string): string {
    const div = document.createElement('div');
    div.textContent = text;
    return div.innerHTML;
  }

  // 获取复数形式
  private getPluralForm(count: number, locale: string): string {
    const rules = new Intl.PluralRules(locale);
    return rules.select(count);
  }

  // 加载语言包
  async loadLocale(locale: string): Promise<void> {
    if (this.resources.has(locale)) {
      return;
    }

    try {
      const modules = import.meta.glob('/locales/**/*.json');
      const localeResources: any = {};

      for (const [path, loader] of Object.entries(modules)) {
        if (path.includes(`/${locale}/`)) {
          const namespace = path.split('/').pop()?.replace('.json', '');
          const content = await loader() as any;
          localeResources[namespace] = content.default || content;
        }
      }

      this.resources.set(locale, this.flattenResources(localeResources));
    } catch (error) {
      console.error(`Failed to load locale ${locale}:`, error);
      throw error;
    }
  }

  // 扁平化资源（将嵌套对象转为点号分隔的键）
  private flattenResources(resources: any, prefix = ''): Record<string, string> {
    const result: Record<string, string> = {};

    for (const [key, value] of Object.entries(resources)) {
      const fullKey = prefix ? `${prefix}.${key}` : key;

      if (typeof value === 'string') {
        result[fullKey] = value;
      } else if (typeof value === 'object' && value !== null) {
        Object.assign(result, this.flattenResources(value, fullKey));
      }
    }

    return result;
  }

  // 获取资源
  private getResource(key: string): string | undefined {
    const resources = this.resources.get(this.currentLocale);
    return resources?.[key];
  }

  // 从指定语言获取资源
  private getResourceFromLocale(key: string, locale: string): string | undefined {
    const resources = this.resources.get(locale);
    return resources?.[key];
  }

  // 切换语言
  async changeLocale(locale: string): Promise<void> {
    if (!this.config.supportedLocales.includes(locale)) {
      throw new Error(`Unsupported locale: ${locale}`);
    }

    if (locale === this.currentLocale) {
      return;
    }

    // 加载语言包
    await this.loadLocale(locale);

    // 更新当前语言
    this.currentLocale = locale;

    // 保存用户选择
    await this.saveUserPreference(locale);

    // 通知监听者
    this.listeners.forEach(cb => cb(locale));

    // 更新文档方向（RTL支持）
    this.updateDocumentDirection(locale);
  }

  // 检测系统语言
  detectSystemLocale(): string {
    const navigator = window.navigator as any;
    const locale = navigator.language || navigator.userLanguage || 'en-US';

    // 尝试匹配精确的语言代码
    if (this.config.supportedLocales.includes(locale)) {
      return locale;
    }

    // 尝试匹配语言前缀
    const langPrefix = locale.split('-')[0];
    const match = this.config.supportedLocales.find(l =>
      l.startsWith(langPrefix)
    );

    return match || this.config.defaultLocale;
  }

  // 更新文档方向
  private updateDocumentDirection(locale: string): void {
    const rtlLocales = ['ar-SA', 'he-IL', 'fa-IR', 'ur-PK'];
    const isRtl = rtlLocales.includes(locale);

    document.documentElement.dir = isRtl ? 'rtl' : 'ltr';
    document.documentElement.lang = locale;
  }

  // 格式化数字
  formatNumber(value: number, options: NumberFormatOptions = {}): string {
    return new Intl.NumberFormat(this.currentLocale, options).format(value);
  }

  // 格式化日期
  formatDate(date: Date | number, options: DateFormatOptions = {}): string {
    const d = typeof date === 'number' ? new Date(date) : date;
    return new Intl.DateTimeFormat(this.currentLocale, options).format(d);
  }

  // 格式化相对时间
  formatRelativeTime(date: Date | number, options: RelativeTimeOptions = {}): string {
    const d = typeof date === 'number' ? new Date(date) : date;
    const now = new Date();
    const diffMs = d.getTime() - now.getTime();
    const diffSecs = Math.round(diffMs / 1000);
    const diffMins = Math.round(diffSecs / 60);
    const diffHours = Math.round(diffMins / 60);
    const diffDays = Math.round(diffHours / 24);

    const rtf = new Intl.RelativeTimeFormat(this.currentLocale, options);

    if (Math.abs(diffSecs) < 60) {
      return rtf.format(diffSecs, 'second');
    } else if (Math.abs(diffMins) < 60) {
      return rtf.format(diffMins, 'minute');
    } else if (Math.abs(diffHours) < 24) {
      return rtf.format(diffHours, 'hour');
    } else {
      return rtf.format(diffDays, 'day');
    }
  }

  // 监听语言变化
  onLocaleChange(callback: (locale: string) => void): () => void {
    this.listeners.add(callback);
    return () => this.listeners.delete(callback);
  }
}
```

---

## 3. 平台适配

### 3.1 React/Web 实现

```typescript
// ============================================
// React Hook
// ============================================

import { createContext, useContext, useState, useEffect, useCallback } from 'react';

const I18nContext = createContext<I18nInstance | null>(null);

// Provider 组件
export const I18nProvider: React.FC<{ config: I18nConfig; children: React.ReactNode }> = ({
  config,
  children
}) => {
  const [i18n] = useState(() => new I18nCore(config));
  const [locale, setLocale] = useState(i18n.currentLocale);

  useEffect(() => {
    // 初始加载
    i18n.loadLocale(locale);

    // 监听变化
    const unsubscribe = i18n.onLocaleChange((newLocale) => {
      setLocale(newLocale);
    });

    return unsubscribe;
  }, [i18n]);

  return (
    <I18nContext.Provider value={i18n}>
      {children}
    </I18nContext.Provider>
  );
};

// useTranslation Hook
export const useTranslation = (namespace?: string) => {
  const i18n = useContext(I18nContext);

  if (!i18n) {
    throw new Error('useTranslation must be used within I18nProvider');
  }

  const t = useCallback(
    (key: string, options?: TranslateOptions) => {
      const fullKey = namespace ? `${namespace}.${key}` : key;
      return i18n.t(fullKey, options);
    },
    [i18n, namespace]
  );

  return {
    t,
    i18n,
    locale: i18n.currentLocale
  };
};

// 使用示例
const ChatComponent: React.FC = () => {
  const { t } = useTranslation('chat');

  return (
    <div>
      <h1>{t('title')}</h1>
      <button>{t('send_button')}</button>
      <p>{t('message_count', { count: 5 })}</p>
    </div>
  );
};
```

### 3.2 SwiftUI 实现

```swift
// ============================================
// SwiftUI 本地化
// ============================================

import SwiftUI
import Combine

// 本地化管理器
class I18nManager: ObservableObject {
    static let shared = I18nManager()

    @Published var currentLocale: String
    private var resources: [String: [String: String]] = [:]

    private init() {
        self.currentLocale = UserDefaults.standard.string(forKey: "app_locale")
            ?? Locale.current.identifier
    }

    func t(_ key: String, _ args: [String: Any] = [:]) -> String {
        let translation = resources[currentLocale]?[key] ?? key

        // 简单插值
        var result = translation
        for (key, value) in args {
            result = result.replacingOccurrences(
                of: "{{\(key)}}",
                with: String(describing: value)
            )
        }

        return result
    }

    func changeLocale(_ locale: String) {
        loadLocale(locale)
        currentLocale = locale
        UserDefaults.standard.set(locale, forKey: "app_locale")

        // 更新应用语言
        UserDefaults.standard.set([locale], forKey: "AppleLanguages")
        UserDefaults.standard.synchronize()
    }

    private func loadLocale(_ locale: String) {
        guard resources[locale] == nil else { return }

        if let path = Bundle.main.path(forResource: locale, ofType: "json"),
           let data = try? Data(contentsOf: URL(fileURLWithPath: path)),
           let json = try? JSONSerialization.jsonObject(with: data) as? [String: String] {
            resources[locale] = json
        }
    }
}

// 视图扩展
extension View {
    func localized() -> some View {
        self.environmentObject(I18nManager.shared)
    }
}

// 使用
struct ChatView: View {
    @EnvironmentObject var i18n: I18nManager

    var body: some View {
        VStack {
            Text(i18n.t("chat.title"))
                .font(.title)

            Button(i18n.t("chat.send_button")) {
                // 发送消息
            }
        }
    }
}
```

### 3.3 Android (Jetpack Compose) 实现

```kotlin
// ============================================
// Android 本地化
// ============================================

import android.content.Context
import android.content.res.Configuration
import androidx.compose.runtime.Composable
import androidx.compose.runtime.CompositionLocalProvider
import androidx.compose.runtime.staticCompositionLocalOf
import androidx.compose.ui.platform.LocalContext
import java.util.Locale

// 本地化管理器
class I18nManager(private val context: Context) {
    var currentLocale: Locale = Locale.getDefault()
        private set

    fun t(key: String, vararg args: Any): String {
        val resources = getLocalizedResources()
        val identifier = resources.getIdentifier(key, "string", context.packageName)

        return if (identifier != 0) {
            resources.getString(identifier, *args)
        } else {
            key
        }
    }

    fun changeLocale(locale: Locale) {
        currentLocale = locale

        // 更新应用配置
        val config = Configuration(context.resources.configuration)
        config.setLocale(locale)
        context.createConfigurationContext(config)

        // 保存偏好
        context.getSharedPreferences("settings", Context.MODE_PRIVATE)
            .edit()
            .putString("locale", locale.toLanguageTag())
            .apply()
    }

    private fun getLocalizedResources(): android.content.res.Resources {
        val config = Configuration(context.resources.configuration)
        config.setLocale(currentLocale)
        return context.createConfigurationContext(config).resources
    }
}

// Composition Local
val LocalI18n = staticCompositionLocalOf<I18nManager> {
    error("No I18nManager provided")
}

// Provider
@Composable
fun I18nProvider(
    i18nManager: I18nManager,
    content: @Composable () -> Unit
) {
    CompositionLocalProvider(LocalI18n provides i18nManager) {
        content()
    }
}

// 使用
@Composable
fun ChatScreen() {
    val i18n = LocalI18n.current

    Column {
        Text(
            text = i18n.t("chat.title"),
            style = MaterialTheme.typography.headlineLarge
        )

        Button(onClick = { /* 发送 */ }) {
            Text(i18n.t("chat.send_button"))
        }
    }
}
```

---

## 4. 翻译管理

### 4.1 翻译文件格式

```json
{
  "_meta": {
    "language": "zh-CN",
    "version": "1.0.0",
    "last_updated": "2026-02-23T10:00:00Z",
    "completion": 100
  },

  "common": {
    "ok": "确定",
    "cancel": "取消",
    "save": "保存",
    "delete": "删除",
    "edit": "编辑",
    "close": "关闭",
    "loading": "加载中...",
    "error": "出错了",
    "retry": "重试",
    "search": "搜索",
    "settings": "设置"
  },

  "chat": {
    "title": "聊天",
    "send_button": "发送",
    "input_placeholder": "输入消息...",
    "message_count": "{{count}} 条消息",
    "message_count_plural": "{{count}} 条消息",
    "typing": "正在输入...",
    "empty_state": "开始一段新的对话吧",
    "file_upload": "上传文件",
    "image_upload": "发送图片",
    "voice_message": "语音消息"
  },

  "settings": {
    "title": "设置",
    "language": {
      "title": "语言",
      "description": "选择界面显示语言",
      "system_default": "跟随系统"
    },
    "appearance": {
      "title": "外观",
      "theme": {
        "label": "主题",
        "light": "浅色",
        "dark": "深色",
        "auto": "自动"
      }
    },
    "notifications": {
      "title": "通知",
      "enable": "启用通知",
      "sound": "提示音"
    }
  },

  "skills": {
    "title": "Skills",
    "marketplace": "市场",
    "installed": "已安装",
    "details": {
      "author": "作者: {{author}}",
      "version": "版本 {{version}}",
      "install": "安装",
      "uninstall": "卸载",
      "update": "更新"
    }
  },

  "errors": {
    "network": {
      "title": "网络错误",
      "message": "请检查网络连接后重试"
    },
    "server": {
      "title": "服务器错误",
      "message": "服务器暂时不可用，请稍后再试"
    },
    "unknown": {
      "title": "未知错误",
      "message": "发生未知错误，错误码: {{code}}"
    }
  }
}
```

### 4.2 翻译工作流

```yaml
# 翻译工作流
workflow:
  # 1. 提取待翻译字符串
  extract:
    tool: i18next-parser
    input:
      - src/**/*.{ts,tsx,js,jsx}
      - src/**/*.swift
      - src/**/*.kt
    output: locales/_template.json

  # 2. 同步到翻译平台
  sync_to_platform:
    platform: crowdin  # 或 transifex, lokalise
    auto_push: true

  # 3. 翻译
  translate:
    methods:
      - professional_translators  # 专业译员
      - community_contributors     # 社区贡献
      - machine_translation:       # 机器翻译辅助
          provider: deepl
          auto_translate_new: true
          human_review_required: true

  # 4. 质量检查
  quality_check:
    checks:
      - missing_translations
      - placeholder_mismatch
      - html_entities
      - length_limits
      - inconsistent_terms

  # 5. 同步回代码库
  sync_from_platform:
    auto_pull: true
    create_pr: true

  # 6. 发布
  release:
    trigger: on_tag
    include_in_build: true
```

### 4.3 翻译管理工具

```typescript
// 翻译管理 CLI
class TranslationManager {
  // 检查缺失的翻译
  async checkMissingTranslations(): Promise<MissingTranslation[]> {
    const template = await this.loadTemplate();
    const results: MissingTranslation[] = [];

    for (const locale of this.config.supportedLocales) {
      const translations = await this.loadLocale(locale);
      const missing = this.findMissingKeys(template, translations);

      results.push({
        locale,
        missing,
        completion: this.calculateCompletion(template, translations)
      });
    }

    return results;
  }

  // 生成翻译报告
  async generateReport(): Promise<TranslationReport> {
    const stats = await this.getTranslationStats();

    return {
      timestamp: new Date().toISOString(),
      overall_completion: stats.overall,
      by_locale: stats.byLocale,
      by_namespace: stats.byNamespace,
      missing_translations: stats.missing,
      suggestions: this.generateSuggestions(stats)
    };
  }

  // 自动翻译（使用机器翻译）
  async autoTranslate(
    targetLocale: string,
    keys?: string[]
  ): Promise<void> {
    const translator = new DeepLTranslator(this.config.deeplApiKey);
    const template = await this.loadTemplate();

    const keysToTranslate = keys || Object.keys(template);

    for (const key of keysToTranslate) {
      const sourceText = template[key];
      const translated = await translator.translate(
        sourceText,
        'en',
        targetLocale.split('-')[0]
      );

      await this.saveTranslation(targetLocale, key, translated);
    }
  }
}
```

---

## 5. 动态加载与热更新

### 5.1 按需加载

```typescript
// 按需加载语言包
async function loadLocaleOnDemand(locale: string): Promise<void> {
  // 分割语言包为小 chunks
  const chunks = ['common', 'chat', 'settings'];

  const loadPromises = chunks.map(async (chunk) => {
    const module = await import(
      /* webpackChunkName: "locale-[request]" */
      `./locales/${locale}/${chunk}.json`
    );
    i18n.addResourceBundle(locale, chunk, module.default);
  });

  await Promise.all(loadPromises);
}

// 预加载常用语言
function preloadCommonLocales(): void {
  const commonLocales = ['zh-CN', 'en-US', 'ja-JP'];

  commonLocales.forEach(locale => {
    const link = document.createElement('link');
    link.rel = 'prefetch';
    link.href = `/locales/${locale}/common.json`;
    document.head.appendChild(link);
  });
}
```

### 5.2 热更新

```typescript
// 检查语言包更新
async function checkForLocaleUpdates(): Promise<void> {
  const currentVersion = localStorage.getItem('locale_version');

  const response = await fetch('/api/v1/locales/version');
  const { version, updated_locales } = await response.json();

  if (version !== currentVersion) {
    // 有更新，重新加载
    for (const locale of updated_locales) {
      await i18n.reloadResources(locale);
    }

    localStorage.setItem('locale_version', version);
  }
}
```

---

## 6. 最佳实践

### 6.1 翻译键命名规范

```typescript
// ✅ 推荐：分层命名
"chat.message.send_button"
"settings.appearance.theme.dark"
"errors.network.timeout_message"

// ❌ 避免：扁平命名
"sendButton"
"darkThemeSetting"
"networkTimeoutError"

// ✅ 推荐：使用语义化名称
"confirm_delete_title"
"confirm_delete_message"
"confirm_delete_confirm_button"

// ❌ 避免：界面位置命名（界面可能改变）
"modal_top_title"
"sidebar_bottom_button"
```

### 6.2 复数处理

```json
{
  "message_count": "{{count}} message",
  "message_count_one": "{{count}} message",
  "message_count_other": "{{count}} messages"
}
```

### 6.3 上下文处理

```typescript
// 使用上下文区分不同含义
t('back', { context: 'navigation' })  // "返回"
t('back', { context: 'body_part' })   // "背部"

// 对应翻译文件
{
  "back": "返回",
  "back_body_part": "背部"
}
```

---

## 7. 实施路线图

| 阶段 | 时间 | 任务 |
|------|------|------|
| **Phase 1** | 1周 | 搭建 i18n 框架，支持 zh-CN/en-US |
| **Phase 2** | 1周 | 完成所有界面字符串提取 |
| **Phase 3** | 1周 | 添加 zh-TW/ja-JP/ko-KR |
| **Phase 4** | 2周 | 添加欧洲语言 (es/fr/de) |
| **Phase 5** | 2周 | RTL 支持 (阿拉伯语) |
| **Phase 6** | 持续 | 社区翻译 + 质量优化 |

---

*文档版本: 1.0*
*创建日期: 2026-02-23*
